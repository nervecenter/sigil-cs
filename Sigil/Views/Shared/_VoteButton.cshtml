@using Microsoft.AspNet.Identity
@using Sigil.Models

@model Tuple<bool, bool, Issue>

@{ 
    bool authenticated = Model.Item1;
    bool voted = Model.Item2;
    Issue thisIssue = Model.Item3;
}

@if ( !Request.IsAuthenticated ) {
    <img class="issue-vote-button unchecked" id="button-@thisIssue.Id" src="../Content/Images/unchecked.png" onclick="redirectToLogin()" onmouseover="votehover(this)" onmouseout="voteunhover(this)">
} else if ( userVote.Check_Vote( thisIssue.Id, thisIssue.Org.Id ) ) {
    // Issue has been voted on, get the checked button and checked class
    <img class="issue-vote-button checked" id="button-@thisIssue.Id" src="../Content/Images/checked.png" onclick="vote(this, @thisIssue.Id)" onmouseover="votehover(this)" onmouseout="voteunhover(this)">
} else {
    // Issue hasn't been voted on, get the opposite
    <img class="issue-vote-button unchecked" id="button-@thisIssue.Id" src="../Content/Images/unchecked.png" onclick="vote(this, @thisIssue.Id)" onmouseover="votehover(this)" onmouseout="voteunhover(this)">
}
